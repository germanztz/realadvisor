provider,type,scope,name,value,options
idealista,url,global,base_url,"https://www.idealista.com/venta-viviendas/barcelona-barcelona/con-precio-hasta_100000,metros-cuadrados-mas-de_35/?ordenado-por=fecha-publicacion-desc",
idealista,regex,list_items,list_items,"<article class=""item(.+?)</article>",DOTALL
idealista,regex,list_next,list_next,"<li class=""next""><a rel=""nofollow"" class=""icon-arrow-right-after"" href=""(.+?)"">",
idealista,regex,list_field,created,(^.),
idealista,regex,list_field,link,"<a href=""(/inmueble/\d+?/)"" role=""heading"" aria-level=""2"" class=""item-link "" title="".+? en .+?"">",
idealista,regex,list_field,type_v,"<a href="".+?"" role=""heading"" aria-level=""2"" class=""item-link "" title=""(.+?) en .+?"">",
idealista,regex,list_field,address,"<a href="".+?"" role=""heading"" aria-level=""2"" class=""item-link "" title="".+? en (.+?)"">",
idealista,regex,list_field,town,,
idealista,regex,list_field,price,"<span class=""item-price.+?>(.+?)<",
idealista,regex,list_field,rooms,"<span class=""item-detail"">(\d+) hab.</span>",
idealista,regex,list_field,surface,"<span class=""item-detail"">(\d+) m²</span>",
idealista,regex,list_field,price_old,"<span class=""pricedown_price"">(.+?) €</span>",
idealista,regex,list_field,info_sub,"<div class=""item-detail-char"">(.+?)</div>",
idealista,regex,list_field,info_elem,"<span class=""item-detail"">(.*?)</span>",DOTALL
idealista,regex,list_field,description,"<p class=""ellipsis.*?>(.+?)<",
idealista,regex,list_field,tags,"<span class=""listing-tags "">(.+?)</span>",DOTALL
idealista,regex,list_field,agent,"<span class=""hightop-agent-name"">(.+?)</span>",
idealista,regex,list_field,images,"<picture>.*?<img.*?src=""(.+?)""",DOTALL
idealista,regex,detail_field,created,(^.),
idealista,regex,detail_field,link,"<link rel=""canonical"" href=""https://www.idealista.com(.+?)""/>",
idealista,regex,detail_field,type_v,"<span class=""main-info__title-main"">(.+?) en venta en .+?</span>",
idealista,regex,detail_field,address,"<span class=""main-info__title-main"">.+? en venta en (.+?)</span>",
idealista,regex,detail_field,town,"<span class=""main-info__title-minor"">(.+?)</span>",
idealista,regex,detail_field,price,"<span class=""info-data-price""><span class=""txt-bold"">(.+?)</span>",
idealista,regex,detail_field,rooms,<li>(\d+) hab.*?</li>,
idealista,regex,detail_field,surface,<li>(\d+) m².*?</li>,
idealista,regex,detail_field,price_old,"<span class=""pricedown_price"">(.+?) €</span>",
idealista,regex,detail_field,info_sub,"<section id=""details"" class=""details-box"">(.*?)</section>",
idealista,regex,detail_field,info_elem,<li>(.*?)</li>,DOTALL
idealista,regex,detail_field,description,"<div class=""adCommentsLanguage.+?><p>(.+?)</p></div>",DOTALL
idealista,regex,detail_field,tags,"<span class=""tag "">(.+?)</span>",DOTALL
idealista,regex,detail_field,agent,"<h2 class=""aditional-link_title .+? href=""(.+?)"".+?</a>",
idealista,regex,detail_field,images,"<picture>.*?<img.*?src=""(.+?)""",DOTALL
idealista,lambda,global,list_next,"lambda m: f""https://www.idealista.com{m}"" if isinstance(m, str) else f""https://www.idealista.com{m.group(1)}""",
idealista,lambda,global,created,"lambda m: datetime.datetime.now().strftime(""%Y-%m-%d %H:%M:%S"")",
idealista,lambda,global,link,"lambda m: f""https://www.idealista.com{m}"" if isinstance(m, str) else f""https://www.idealista.com{m.group(1)}""",
idealista,lambda,global,price,"lambda m: m.replace(""."", """")",
idealista,lambda,global,price_old,"lambda m: m.replace(""."", """")",
fotocasa,url,global,base_url,https://www.fotocasa.es/es/comprar/viviendas/barcelona-capital/todas-las-zonas/l/1?maxPrice=100000&minSurface=35&sortType=publicationDate,
fotocasa,regex,list_items,list_items,accuracy(.+?)userId,DOTALL
fotocasa,regex,list_next,list_next,"""rel"":""next"",""href"":""(.*?)""",
fotocasa,regex,list_field,created,(^.),
fotocasa,regex,list_field,link,"""detail"":.*?:""(.*?)""",
fotocasa,regex,list_field,type_v,"""buildingType"":""(.*?)""",
fotocasa,regex,list_field,address,"""district"":""(.*?)"",""neighborhood"":""(.*?)"",""zipCode"":""(.*?)"",.*?""province"":""(.*?)""",
fotocasa,regex,list_field,town,"""district"":""(.*?)""",
fotocasa,regex,list_field,price,"""rawPrice"":(\d+),",
fotocasa,regex,list_field,rooms,"""key"":""rooms"",""value"":(\d+),",
fotocasa,regex,list_field,surface,"""key"":""surface"",""value"":(\d+),",
fotocasa,regex,list_field,price_old,"""reducedPrice"":(\d+),",
fotocasa,regex,list_field,info,"""key"":""(.*?)"",""value"":(.*?),""maxValue""",
fotocasa,regex,list_field,description,"""description"":""(.*?)"","".*?"":",
fotocasa,regex,list_field,tags,,
fotocasa,regex,list_field,agent,"""clientUrl"":""(.*?)""",
fotocasa,regex,list_field,images_sub,"""multimedia"":\[(.*?)\]",
fotocasa,regex,list_field,images_elem,"""(http.*?rule=original)""",DOTALL
fotocasa,regex,detail_field,created,(^.),
fotocasa,regex,detail_field,link,"""realEstate"":.*""detail"":.*""es-ES"":""(.+?)""",
fotocasa,regex,detail_field,type_v,"""realEstate"":.*""buildingType"":""(.+?)""",
fotocasa,regex,detail_field,address,"""realEstate"":.*""address"":.*?""district"":""(.*?)"",.*?""neighborhood"":""(.*?)"",.*?""zipCode"":""(.*?)"",.*?""province"":""(.*?)""",
fotocasa,regex,detail_field,town,"""realEstate"":.*""address"":.*?""district"":""(.*?)""",
fotocasa,regex,detail_field,price,"""realEstate"":.*""price"":(\d+),",
fotocasa,regex,detail_field,rooms,"""realEstate"":.*""features"":.*?""rooms"":(\d+),",
fotocasa,regex,detail_field,surface,"""realEstate"":.*""features"":.*?""surface"":(\d+),",
fotocasa,regex,detail_field,price_old,"""realEstate"":.*""reducedPrice"":(\d+),",
fotocasa,regex,detail_field,info,"""realEstate"":.*""extras"":\[(.+?)\].*""features"":\{(.+?)\}",
fotocasa,regex,detail_field,description,"""realEstate"":.*""descriptions"":.+?""es-ES"":""(.+?)""",
fotocasa,regex,detail_field,tags,,
fotocasa,regex,detail_field,agent,"""realEstate"":.*""clientUrl"":""(.+?)""",
fotocasa,regex,detail_field,images_sub,"""realEstate"":.*""multimedia"":\[(.*?)\]",
fotocasa,regex,detail_field,images_elem,"""(http.*?rule=original)""",DOTALL
fotocasa,lambda,global,created,"lambda m: datetime.datetime.now().strftime(""%Y-%m-%d %H:%M:%S"")",
fotocasa,lambda,global,link,"lambda m: f""https://www.fotocasa.es{m}"" if isinstance(m, str) else f""https://www.fotocasa.es{m.group(1)}""",
fotocasa,lambda,global,address,"lambda m : "", "".join(m)",
fotocasa,lambda,global,agent,"lambda m: f""https://www.fotocasa.es{m}"" if isinstance(m, str) else f""https://www.fotocasa.es{m.group(1)}""",
fotocasa,lambda,list_field,info,"lambda m: ["": "".join(e) for e in m]",
fotocasa,lambda,detail_field,info,"lambda m: """".join([c for c in f""{m}"".lower() if c in ""qwertyuiopñlkjhgfdsazxcvbnm,:1234567890 ""]).split("","") ",
